Nachos建立在一个软件模拟的虚拟机之上，用软件模拟硬件设备，确保了可靠性，主要模拟了MIPS R2/3000的指令集、主存、中断系统、网络以及磁盘系统等操作系统所必须的硬件系统，是一个在宿主机上运行的进程。
在操作系统教学方面，nachos
1.采用通用虚拟机，Nachos建立在一个软件模拟的虚拟机之上，采用R2/3000指令集
2.加入了网络、线程和分布式应用的新概念
3.提供确定性调试
4.部分面向对象，没有使用继承，多态，更便于理解

一、Nachos的机器模拟
Nachos使用C++语言中的类表示各个对象，Machine类通过在宿主机上分配两块内存作为虚拟机的寄存器和物理内存，并提供了单步调试功能。
Interrupt类模拟硬件中断系统，使用一个记录即将发生中断的中断等待队列，每个等待处理的中断包含中断类型、中断处理程序的地址及参数、中断应当发生的时间等信息。
中断机制模拟了Nachos系统需要处理的所有中断，包括时钟中断、磁盘中断、终端读/终端写中断以及网络接收/网络发送中断。
Timer类模拟定时器，用于时间片管理。当需要时钟前进时，调用OneTick方法
Console类管理控制台设备，分别用两个文件来模拟读/写。包括键盘输入和显示输出，
Disk类模拟物理磁盘，用宿主机中的一个文件来模拟一个单面物理磁盘，一次只能接受一个读写请求。
Network类模拟网络节点，可以将固定长度的报文发送到其他节点上，报文在网络中的传递通过Socket（套接口）实现。与控制台类似，每隔一定时钟周期，产生一个网络中断。
网络中断的处理过程为：
1. 将下一个网络接收中断放入中断队列以实现中断的周期性发生。
2. 如果报文缓冲区中已有报文，则返回。
3. 读取套接口，如果没有报文，则返回。
4. 读取报文，把它放入报文缓冲区。
5. 调用本节点自定义的接收处理函数。

其中，中断系统是整个Nachos虚拟机的基础，其他的硬件模拟设备都建立在中断系统之上。在此之上，加上Machine类模拟的指令解释器，可以实现Nachos的线程管理、文件系统管理、虚拟内存、用户程序和网络管理等所有操作系统功能。

